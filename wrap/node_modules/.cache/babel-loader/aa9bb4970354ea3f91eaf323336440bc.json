{"remainingRequest":"D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\code2\\sh_19_0722\\code-work\\layout\\src\\components\\ele-cart\\ele-cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\code2\\sh_19_0722\\code-work\\layout\\src\\components\\ele-cart\\ele-cart.vue","mtime":1576639120450},{"path":"D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\code2\\sh_19_0722\\code-work\\layout\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQdWJTdWIgZnJvbSAicHVic3ViLWpzIjsKaW1wb3J0IFB1YlN1YkNvbmZpZyBmcm9tICJAL2NvbmZpZy9wdWJzdWJDb25maWcuanMiOwppbXBvcnQgeyB0cmFuc2Zvcm0gfSBmcm9tICJAL3V0aWwiOwppbXBvcnQgY29udHJvbCBmcm9tICJjb21wb25lbnRzL2VsZS1jb250cm9sL2VsZS1jb250b3JsLnZ1ZSI7CmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImVsZS1jYXJ0IiwKICBwcm9wczogewogICAgc2VsZWN0ZWRGb29kczogQXJyYXksCiAgICBkZWxpdmVyeVByaWNlOiBOdW1iZXIsCiAgICBtaW5QcmljZTogTnVtYmVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFsbHM6IFt7CiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgfSwgewogICAgICAgIHNob3c6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBzaG93OiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgfSwgewogICAgICAgIHNob3c6IGZhbHNlCiAgICAgIH1dLAogICAgICBkcm9wQmFsbHM6IFtdLAogICAgICBmbG9kOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2UoKSB7CiAgICAgIHZhciB0b3RhbFByaWNlID0gMDsKICAgICAgdGhpcy5zZWxlY3RlZEZvb2RzLmZvckVhY2goZnVuY3Rpb24gKGZvb2QpIHsKICAgICAgICB0b3RhbFByaWNlICs9IGZvb2QuY291bnQgKiBmb29kLnByaWNlOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRvdGFsUHJpY2U7CiAgICB9LAogICAgdG90YWxDb3VudDogZnVuY3Rpb24gdG90YWxDb3VudCgpIHsKICAgICAgdmFyIHRvdGFsQ291bnQgPSAwOwogICAgICB0aGlzLnNlbGVjdGVkRm9vZHMuZm9yRWFjaChmdW5jdGlvbiAoZm9vZCkgewogICAgICAgIHRvdGFsQ291bnQgKz0gZm9vZC5jb3VudDsKICAgICAgfSk7CiAgICAgIHJldHVybiB0b3RhbENvdW50OwogICAgfSwKICAgIHBheVRleHQ6IGZ1bmN0aW9uIHBheVRleHQoKSB7CiAgICAgIGlmICh0aGlzLnRvdGFsUHJpY2UgPT09IDApIHsKICAgICAgICByZXR1cm4gIlx4QTUiLmNvbmNhdCh0aGlzLm1pblByaWNlLCAiXHU4RDc3XHU5MDAxIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50b3RhbFByaWNlIDwgdGhpcy5taW5QcmljZSkgewogICAgICAgIHJldHVybiAiXHU4RkQ4XHU1REVFXHhBNSIuY29uY2F0KHRoaXMubWluUHJpY2UgLSB0aGlzLnRvdGFsUHJpY2UsICJcdThENzdcdTkwMDEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIlx1NTNCQlx1N0VEM1x1N0I5NyI7CiAgICAgIH0KICAgIH0sCiAgICBzaG93TGlzdDogZnVuY3Rpb24gc2hvd0xpc3QoKSB7CiAgICAgIGlmICh0aGlzLnRvdGFsQ291bnQgPD0gMCkgewogICAgICAgIHRoaXMuZmxvZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gIXRoaXMuZmxvZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWxscy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBiYWxsID0gdGhpcy5iYWxsc1tpXTsKCiAgICAgICAgaWYgKCFiYWxsLnNob3cpIHsKICAgICAgICAgIGJhbGwuc2hvdyA9IHRydWU7CiAgICAgICAgICBiYWxsLnRhcmdldCA9IHRhcmdldDsKICAgICAgICAgIHRoaXMuZHJvcEJhbGxzLnB1c2goYmFsbCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYmVmb3JlRHJvcDogZnVuY3Rpb24gYmVmb3JlRHJvcChlbCkgewogICAgICAvL+iuoeeul+Wwj+eQg+S4gOW8gOWni+eahOS9jee9rgogICAgICB2YXIgY291bnQgPSB0aGlzLmJhbGxzLmxlbmd0aDsKCiAgICAgIHdoaWxlIChjb3VudC0tKSB7CiAgICAgICAgdmFyIGJhbGwgPSB0aGlzLmJhbGxzW2NvdW50XTsKCiAgICAgICAgaWYgKGJhbGwuc2hvdykgewogICAgICAgICAgdmFyIHZpZXdIID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICAgIHZhciB0YXJnZXRSZWN0ID0gYmFsbC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICB2YXIgdHJhbnNsYXRlWCA9IHRhcmdldFJlY3QubGVmdCAtIDMyOwogICAgICAgICAgdmFyIHRyYW5zbGF0ZVkgPSB2aWV3SCAtIHRhcmdldFJlY3QudG9wIC0gMjI7IC8vMS4gdHJhbnNpdGlvbiDlnKjlhYPntKDliJ3mrKHmuLLmn5Pov5jmsqHmnInmiJDlip/nmoTmg4XlhrXkuIvmmK/kuI3kvJrop6blj5HnmoQKICAgICAgICAgIC8vMi4g5b2TdHJhbnNmcm9t55qE5Y+Y5o2i5Ye95pWw5L2N572uIOmhuuW6j+WPmOaNouS4jeS4gOiHtOaXtiB0cmFuc2l0aW9u5Lmf5LiN5Lya6Kem5Y+RCiAgICAgICAgICAvLzMuIOaIkeS7rOaYr+ayoeacieWKnuazleWcqHRyYW5zaXRpb27ov4fmuKHnmoTov4fnqIvkuK0g5ou/5Yiw5q+P5LiA5bin55qE54q25oCBCgogICAgICAgICAgdHJhbnNmb3JtKGVsLCAidHJhbnNsYXRlWCIsIHRyYW5zbGF0ZVggKyAzKTsKICAgICAgICAgIHRyYW5zZm9ybShlbCwgInRyYW5zbGF0ZVkiLCAtdHJhbnNsYXRlWSArIDIwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkcm9wcGluZzogZnVuY3Rpb24gZHJvcHBpbmcoZWwpIHsKICAgICAgLy/orqnmtY/op4jlmajmuIXnqbrmlbTkuKrmuLLmn5PpmJ/liJcKICAgICAgdmFyIGhvb2sgPSBlbC5vZmZzZXRIZWlnaHQ7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB0cmFuc2Zvcm0oZWwsICJ0cmFuc2xhdGVYIiwgMCk7CiAgICAgICAgdHJhbnNmb3JtKGVsLCAidHJhbnNsYXRlWSIsIDApOwogICAgICB9KTsKICAgIH0sCiAgICBhZnRlckRyb3A6IGZ1bmN0aW9uIGFmdGVyRHJvcChlbCkgewogICAgICB2YXIgYmFsbCA9IHRoaXMuZHJvcEJhbGxzLnNoaWZ0KCk7CgogICAgICBpZiAoYmFsbC5zaG93KSB7CiAgICAgICAgYmFsbC5zaG93ID0gZmFsc2U7CiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgfQogICAgfSwKICAgIGZsb2RGbjogZnVuY3Rpb24gZmxvZEZuKCkgewogICAgICBpZiAodGhpcy50b3RhbENvdW50IDw9IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZmxvZCA9ICF0aGlzLmZsb2Q7CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLiRlbWl0KCJjbGVhciIpOwogICAgfSwKICAgIGFkZENvdW50OiBmdW5jdGlvbiBhZGRDb3VudChmb29kKSB7CiAgICAgIHRoaXMuJGVtaXQoImFkZENvdW50IiwgZm9vZCk7CiAgICB9LAogICAgcmVtb3ZlQ291bnQ6IGZ1bmN0aW9uIHJlbW92ZUNvdW50KGZvb2QpIHsKICAgICAgdGhpcy4kZW1pdCgicmVtb3ZlQ291bnQiLCBmb29kKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgICJlbGUtY29udHJvbCI6IGNvbnRyb2wKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIFB1YlN1Yi5zdWJzY3JpYmUoUHViU3ViQ29uZmlnLmJhbGxBbmltYXRpb24sIGZ1bmN0aW9uIChtc2csIHRhcmdldCkgewogICAgICBfdGhpcy5kcm9wKHRhcmdldCk7CiAgICB9KTsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMuc2hvcENhcnRMaXN0Q29udGVudCk7CiAgICBuZXcgQlNjcm9sbCh0aGlzLiRyZWZzLnNob3BDYXJ0TGlzdENvbnRlbnQsIHsKICAgICAgY2xpY2s6IHRydWUKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["ele-cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"shop-cart\" >\r\n            <div @click=\"flodFn\" style=\"will-change: scroll-position\" class=\"left\" >\r\n                <div class=\"shop-wrap\" :class=\"{highLight:totalPrice >0}\">\r\n                    <div class=\"logo\">\r\n                        <i class=\"shopping_cart icon-shopping_cart\"></i>\r\n                    </div>\r\n                    <span class=\"qipao\" v-show=\"totalCount >0\">{{totalCount}}</span>\r\n                </div>\r\n                <div class=\"totalPrice\">\r\n                    <span :class=\"{highLight:totalPrice >0}\">￥{{totalPrice}}</span>\r\n                </div>\r\n                <div class=\"deliveryPrice\">\r\n                    <span>另需配送费￥{{deliveryPrice}}</span>\r\n                </div>\r\n            </div>\r\n            <div style=\"will-change: scroll-position\" class=\"right\" :class=\"{highlight:this.totalPrice >= this.minPrice}\">\r\n                <span>{{payText}}</span>\r\n            </div>\r\n            <div class=\"balls\">\r\n                <div class=\"ball-wrap\" v-for=\"ball in balls\">\r\n                    <transition name=\"drop\"\r\n                                @before-enter=\"beforeDrop\"\r\n                                @enter=\"dropping\"\r\n                                @after-enter=\"afterDrop\">\r\n                        <i class=\"ball\" v-show=\"ball.show\"></i>\r\n                    </transition>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <transition name=\"shopCartList\">\r\n            <div class=\"list\"  v-show=\"showList\">\r\n                <div class=\"header\">\r\n                    <h2 class=\"title\">购物车</h2>\r\n                    <span class=\"clear\" @click=\"clear\">清空</span>\r\n                </div>\r\n                <div class=\"content\" ref=\"shopCartListContent\">\r\n                    <ul>\r\n                        <li class=\"selectedFood\" v-for=\"selectedFood in selectedFoods\">\r\n                            <span class=\"name left\">{{selectedFood.name}}</span>\r\n                            <div class=\"right\">\r\n                                <span class=\"price\">¥{{selectedFood.count * selectedFood.price}}</span>\r\n                                <ele-control class=\"control\" :food=\"selectedFood\"\r\n                                @addCount=\"addCount\" @removeCount=\"removeCount\"></ele-control>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </transition>\r\n        <div class=\"mask\" v-show=\"showList\" @click=\"flod=true\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import PubSub from \"pubsub-js\"\r\n    import PubSubConfig from \"@/config/pubsubConfig.js\"\r\n    import {transform} from \"@/util\"\r\n    import control from \"components/ele-control/ele-contorl.vue\"\r\n    import BScroll from 'better-scroll'\r\n    export default {\r\n        name: \"ele-cart\",\r\n        props:{\r\n            selectedFoods:Array,\r\n            deliveryPrice:Number,\r\n            minPrice:Number\r\n        },\r\n        data(){\r\n          return {\r\n              balls:[\r\n                  {show:false},\r\n                  {show:false},\r\n                  {show:false},\r\n                  {show:false},\r\n                  {show:false}\r\n              ],\r\n              dropBalls:[],\r\n              flod:true\r\n          }\r\n        },\r\n        computed:{\r\n            totalPrice(){\r\n                let totalPrice =0;\r\n                this.selectedFoods.forEach((food)=>{\r\n                    totalPrice += (food.count * food.price)\r\n                })\r\n                return totalPrice\r\n            },\r\n            totalCount(){\r\n                let totalCount =0;\r\n                this.selectedFoods.forEach((food)=>{\r\n                    totalCount += food.count\r\n                })\r\n                return totalCount\r\n            },\r\n            payText(){\r\n                if(this.totalPrice === 0){\r\n                    return `¥${this.minPrice}起送`\r\n                }else if(this.totalPrice < this.minPrice){\r\n                    return `还差¥${this.minPrice - this.totalPrice}起送`\r\n                }else {\r\n                    return `去结算`\r\n                }\r\n            },\r\n            showList(){\r\n                if(this.totalCount <=0){\r\n                    this.flod = true\r\n                    return false\r\n                }\r\n                return !this.flod\r\n            }\r\n        },\r\n        methods:{\r\n            drop(target){\r\n                for(let i=0;i<this.balls.length;i++){\r\n                    let ball = this.balls[i]\r\n                    if(!ball.show){\r\n                        ball.show = true;\r\n                        ball.target = target;\r\n                        this.dropBalls.push(ball)\r\n                        return;\r\n                    }\r\n                }\r\n            },\r\n            beforeDrop(el){\r\n                //计算小球一开始的位置\r\n                let count = this.balls.length;\r\n                while (count--){\r\n                    let ball = this.balls[count]\r\n                    if(ball.show){\r\n                        let viewH= document.documentElement.clientHeight;\r\n                        let targetRect = ball.target.getBoundingClientRect()\r\n                        var translateX = targetRect.left - 32;\r\n                        var translateY = viewH - targetRect.top - 22;\r\n                        //1. transition 在元素初次渲染还没有成功的情况下是不会触发的\r\n                        //2. 当transfrom的变换函数位置 顺序变换不一致时 transition也不会触发\r\n                        //3. 我们是没有办法在transition过渡的过程中 拿到每一帧的状态\r\n                        transform(el,\"translateX\",translateX + 3)\r\n                        transform(el,\"translateY\",-translateY + 20)\r\n                    }\r\n                }\r\n            },\r\n            dropping(el){\r\n                //让浏览器清空整个渲染队列\r\n                let hook = el.offsetHeight;\r\n                this.$nextTick(()=>{\r\n                    transform(el,\"translateX\",0)\r\n                    transform(el,\"translateY\",0)\r\n                })\r\n            },\r\n            afterDrop(el) {\r\n                const ball = this.dropBalls.shift();\r\n                if(ball.show){\r\n                    ball.show = false;\r\n                    el.style.display=\"none\"\r\n                }\r\n            },\r\n\r\n            flodFn(){\r\n                if(this.totalCount<=0){\r\n                    return ;\r\n                }\r\n                this.flod = !this.flod\r\n            },\r\n            clear(){\r\n                this.$emit(\"clear\")\r\n            },\r\n            addCount(food){\r\n                this.$emit(\"addCount\",food)\r\n            },\r\n            removeCount(food){\r\n                this.$emit(\"removeCount\",food)\r\n            }\r\n        },\r\n        components:{\r\n            \"ele-control\":control\r\n        },\r\n        mounted(){\r\n            PubSub.subscribe(PubSubConfig.ballAnimation,(msg,target)=>{\r\n               this.drop(target)\r\n            });\r\n            console.log(this.$refs.shopCartListContent)\r\n            new BScroll(this.$refs.shopCartListContent,{\r\n                click:true\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n    @import \"../../common/stylus/mixin.styl\"\r\n    .shop-cart\r\n        display flex\r\n        position fixed\r\n        z-index 3\r\n        bottom 0\r\n        left 0\r\n        width 100%\r\n        height 48px\r\n        background #141d27\r\n        .left\r\n            display flex\r\n            flex 1\r\n            .shop-wrap\r\n                display flex\r\n                align-items center\r\n                justify-content center\r\n                position relative\r\n                top -10px\r\n                width 56px\r\n                height 56px\r\n                margin-left 12px\r\n                margin-right 12px\r\n                border-radius 50%\r\n                background #141d27\r\n                &.highLight\r\n                    .logo\r\n                        background rgba(0,160,220,1)\r\n                        .shopping_cart\r\n                            color rgba(255,255,255,1)\r\n                .logo\r\n                    display flex\r\n                    align-items center\r\n                    justify-content center\r\n                    width 44px\r\n                    height 44px\r\n                    border-radius 50%\r\n                    background rgba(255,255,255,.4)\r\n                    .shopping_cart\r\n                        font-size 24px\r\n                        line-height 24px\r\n                        color rgba(255,255,255,.6)\r\n                .qipao\r\n                    position absolute\r\n                    right 0\r\n                    top 0\r\n                    width 24px\r\n                    height 16px\r\n                    background rgba(240,20,20,1)\r\n                    color white\r\n                    text-align center\r\n                    border-radius 6px\r\n                    box-shadow 0px 4px 8px 0px rgba(0,0,0,.4)\r\n                    font-size 9px\r\n                    line-height 16px\r\n            .totalPrice\r\n                display flex\r\n                align-items center\r\n                justify-content center\r\n                span\r\n                    display inline-block\r\n                    border-right 1px solid rgba(255,255,255,.5)\r\n                    padding-right 12px\r\n                    font-size 16px\r\n                    line-height 24px\r\n                    color rgba(255,255,255,.4)\r\n                    font-weight 700\r\n                    &.highLight\r\n                        color rgba(255,255,255,1)\r\n            .deliveryPrice\r\n                display flex\r\n                align-items center\r\n                justify-content center\r\n                padding-left 12px\r\n                span\r\n                    font-size 16px\r\n                    line-height 24px\r\n                    color rgba(255,255,255,.4)\r\n                    font-weight 200\r\n\r\n        .right\r\n            flex 0 0 105px\r\n            background rgba(255,255,255,.4)\r\n            display flex\r\n            align-items center\r\n            justify-content center\r\n            &.highlight\r\n                background green\r\n                span\r\n                    font-weight 800\r\n                    color rgba(255,255,255,1)\r\n            span\r\n                color rgba(255,255,255,.6)\r\n        .balls\r\n            .ball-wrap\r\n                .ball\r\n                    position absolute\r\n                    left: 32px;\r\n                    top: 10px;\r\n                    width 16px\r\n                    height 16px\r\n                    background deeppink\r\n                    border-radius 50%\r\n                    transition .3s transform linear\r\n    .list\r\n        position absolute\r\n        left 0\r\n        bottom 0\r\n        z-index 2\r\n        width 100%\r\n        .header\r\n            one-px(rgba(7,17,27,.1))\r\n            height 40px\r\n            padding 0 18px\r\n            background #f3f5f7\r\n            .title\r\n                float: left;\r\n                font-size 14px\r\n                line-height 40px\r\n                font-weight 200\r\n                color rgba(7,17,27,1)\r\n            .clear\r\n                float right\r\n                font-size 12px\r\n                line-height 40px\r\n                color rgba(0,160,220,1)\r\n        .content\r\n            max-height 218px\r\n            background rgba(255,255,255,1)\r\n            overflow hidden\r\n            .selectedFood\r\n                one-px(rgba(7,17,27,.1))\r\n                height 48px\r\n                padding 12px 18px\r\n                .left\r\n                    float left\r\n                    font-size 14px\r\n                    line-height 24px\r\n                    color rgba(7,17,27,1)\r\n                .right\r\n                    float right\r\n                    display flex\r\n                    align-items center\r\n                    .price\r\n                        display inline-block\r\n                        font-size 14px\r\n                        color rgba(240,20,20,1)\r\n                        line-height 24px\r\n                        font-weight 700\r\n                        margin-right 12px\r\n                    .control\r\n                        width 88px\r\n    .mask\r\n        position fixed\r\n        left 0\r\n        top 0\r\n        z-index 1\r\n        width 100%\r\n        height 100%\r\n        background rgba(7,17,27,0.6)\r\n        backdrop-filter blur(10px)\r\n</style>"],"sourceRoot":"src/components/ele-cart"}]}